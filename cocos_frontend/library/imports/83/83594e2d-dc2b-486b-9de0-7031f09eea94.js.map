{"version":3,"sources":["assets/Script/ui/HomeListPanel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UIPanel from \"./UIPanel\"\nimport UIManager from \"../UIManager\";\nimport { EUIPanelType } from \"../CommonEnum\";\nimport {TableView,CellData} from \"./TableView\";\nimport ResManager from \"../ResManager\";\n\n\n\n\nclass HomeListData extends CellData{\n    labName:cc.Label;\n    btnIcon:cc.Button;\n    labContent:cc.RichText;\n    nOldBgHeight:number;\n    labPriceLow:cc.Label;\n    labPriceHi:cc.Label;\n    labPriceScale:cc.Label;\n\n    labCap:cc.Label;\n  \n    \n    init(node){\n        //this.nOrderState = 0;\n        //super.init();\n        this.node = node;\n      \n        \n        this.btnIcon = this.node.getChildByName('btnicon').getComponent(cc.Button);\n\n          this.labName = this.btnIcon.node.getChildByName('labelname').getComponent(cc.Label);\n       //this.labPriceLow = this.node.getChildByName('labelpricelow').getComponent(cc.Label);\n        //this.labPriceHi = this.node.getChildByName('labelpricecur').getComponent(cc.Label);\n        //this.labPriceScale = this.node.getChildByName('labelpricescale').getComponent(cc.Label);\n        this.labCap = this.btnIcon.node.getChildByName('labelcap').getComponent(cc.Label);\n\n\n        this.nOldBgHeight = this.node.height;\n\n    }\n    refreshUI(info:ListCellData){\n        \n        \n       \n        this.labName.string = info.nId.toString();//sName\n\n\n\n        this.labCap.string = info.sName\n        \n    }\n    \n\n}\n//-===========================================\nclass ListCellData{\n\n    nId:number;\n    sName: string;\n    \n\n}\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class HomeListPanel extends UIPanel {\n\n    tableview: TableView;\n    vListData: ListCellData[] = [];\n    heightCell: HomeListData;\n    editBox: cc.EditBox;\n    nIndexReq: number;\n    nOrderState: number;\n\n\n    onLoad(){\n        this.nOrderState = 0;\n\n        this.nIndexReq = 0\n        // let btnBeginNode = this.node.getChildByName('btnback');\n        // btnBeginNode.on(cc.Node.EventType.TOUCH_END, this.clickBegin.bind(this,109825),this);\n    \n        // let btnOrder = this.node.getChildByName('btnorder');\n        // btnOrder.on(cc.Node.EventType.TOUCH_END, this.clickOrder.bind(this,1025),this);\n    \n\n        this.tableview = this.node.getChildByName('tableview').getComponent(TableView);\n        this.tableview.setRefreshCellCallBack(this, this.refreshCell, this.getCellHeight);\n\n        this.tableview.nodeElement.active = false;\n    \n    }\n    start () {\n    }\n    RefreshUI(){\n        this.tableview.reloadData(this.vListData.length);\n    }\n   \n\n    UpdateCurPrice(strSymbol:string,nPriceCur:number){\n        let mapCoinTab = ResManager.Instance.mapCoinTab\n\n\n    }\n\n  \n    OnResult(strResponseText:string){\n        cc.log(\"OnResult\");\n        cc.log(strResponseText);\n        let jsObj = JSON.parse(strResponseText)\n        let nPriceCur = jsObj[\"result\"][\"rate\"]\n        let strSymbol = jsObj[\"result\"][\"asset_id_base\"]\n\n        this.UpdateCurPrice(strSymbol,nPriceCur)\n\n    }\n\n \n    RefreshData() {\n        this.nIndexReq = 0\n        this.vListData = []\n\n        //for(nindex)\n\n        //写个循环创建20个数据\n        for(let i = 1; i <= 20; i++) {\n            let cellInfo = new ListCellData();\n            cellInfo.nId = i;\n            cellInfo.sName = \"wallet\" + i;\n            this.vListData.push(cellInfo);\n        }\n       \n        \n    }\n    OnOpen( strParam: string)\n    {\n        this.RefreshData()\n        this.RefreshUI()\n\n    }\n\n    \n\n    OnClose()\n    {\n        \n    }\n    getCellHeight(nIndex:number)\n    {\n        return 200;\n        \n    }\n    refreshCell( nIndex:number)\n    {\n        let cellData:any = this.tableview.dequeueCell();\n        if(cellData === null)\n        {\n            cellData = new HomeListData();\n            let node = this.tableview.createElementNode();\n            node.active = true;\n            cellData.init(node);\n            cellData.btnIcon.node.on(cc.Node.EventType.TOUCH_END, this.clickCell.bind(this,cellData.btnIcon),this);\n\n        }\n        cc.log('refreshCell'+nIndex);\n\n        let cellInfo = this.vListData[nIndex];\n        cellData.refreshUI(cellInfo);\n        cellData.btnIcon.nTag = nIndex;\n        \n        return cellData;\n    }\n    clickCell(btnIcon)\n    {\n        let nIndex = btnIcon.nTag;\n        cc.log('clickcell='+nIndex);\n\n        let nId = this.vListData[nIndex].nId;\n        if(nId === 1 )\n        {\n\n        }\n        else if(nId === 2 )\n        {\n           // UIManager.Instance.OpenPanel(EUIPanelType.GAME);\n\n        }\n\n        UIManager.OpenPanel(EUIPanelType.WALLET);\n\n\n        \n    }\n  \n    clickBegin(nTag){\n        cc.log('clickbegin'+nTag);\n        //UIManager.Instance.OpenPanel(EUIPanelType.HOME);\n    }\n\n    clickOrder(nTag){\n       \n            \n    \n\n\n    }\n\n    \n}\n"]}